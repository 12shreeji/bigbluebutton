<?xml version="1.0" encoding="utf-8"?>
<bcast:MDIWindow xmlns:mx="http://www.adobe.com/2006/mxml" 
					  xmlns:bcast="flexlib.mdi.containers.*" 
					  implements="org.bigbluebutton.common.IBbbModuleWindow"
					  layout="absolute" 
					  width="400" 
					  height="300">
	<mx:Script>
		<![CDATA[
			import mx.core.UIComponent;			
			import org.bigbluebutton.main.views.MainCanvas;
			
			[Bindable]
			private var streams:Array = ["http://192.168.0.235/avatar.flv",
				"http://192.168.0.235/avatar-vp6.flv", 
				"http://192.168.0.235/toystory3-vp6.flv", 
				"http://192.168.0.235/toystory3.flv"];
			
			private var nc:NetConnection = new NetConnection();
			private var ns:NetStream;
			
			private function playVideo():void {
				var _videoHolder:UIComponent;
				_videoHolder = new UIComponent();
				
				var video:Video = new Video();
				_videoHolder.addChild(video);
				videoHolder.addChild(_videoHolder);
								
				nc.connect(null);
				ns = new NetStream(nc);
				ns.client = this;
				video.attachNetStream(ns);
				//ns.play("http://www.helpexamples.com/flash/video/cuepoints.flv");
				var s:String = streamsComboBox.selectedLabel;
				ns.play(s);				
			}				
			
			private function stopVideo():void {
				ns.close();
			}
			
			public function onCuePoint(infoObject:Object):void {
				trace("onCuePoint");
			}
			
			public function onMetaData(infoObject:Object):void {
				trace("onMetaData");
			}
			
			public function onPlayStatus(infoObject:Object):void {
				trace("onMetaData");
			}
			
			public function getPrefferedPosition():String{
				return MainCanvas.MIDDLE;
			}
			
		]]>
	</mx:Script>
	<mx:Canvas>
		<mx:Canvas id="videoHolder" x="30" y="200"/>	
		<mx:ComboBox id="streamsComboBox" x="1" y="30" width="365" dataProvider="{streams}"/>
		<mx:Button id="playBtn" label="Play"  x="1" y="50" click="playVideo()" enabled="true"/>		
		<mx:Button id="stopBtn" label="Stop"  x="1" y="70" click="stopVideo()" enabled="true"/>	
	</mx:Canvas>

</bcast:MDIWindow>
